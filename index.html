<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowGuard - Secure Your GitHub Actions</title>
    <meta name="description" content="Monitor third-party GitHub Actions for security risks. Get instant alerts when dependencies become compromised, abandoned, or change ownership.">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span class="logo-text">FlowGuard</span>
            </div>
            <a href="https://app.flowguard.dev/api/auth/signin/github" class="btn btn-primary">
                <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.341-3.369-1.341-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.607.069-.607 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836a9.59 9.59 0 012.504.337c1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.161 22 16.416 22 12c0-5.523-4.477-10-10-10z"/>
                </svg>
                Sign in with GitHub
            </a>
        </div>
    </nav>

    <main>
        <section class="hero">
            <div class="container">
                <h1 class="hero-title">Secure Your GitHub Actions</h1>
                <p class="hero-subtitle">
                    Monitor third-party GitHub Actions for security risks. Get instant alerts when dependencies become compromised, abandoned, or change ownership.
                </p>
                <a href="https://app.flowguard.dev/api/auth/signin/github" class="btn btn-primary btn-large">
                    <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.341-3.369-1.341-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.607.069-.607 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836a9.59 9.59 0 012.504.337c1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.161 22 16.416 22 12c0-5.523-4.477-10-10-10z"/>
                    </svg>
                    Get Started with GitHub
                </a>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon feature-icon-red">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <h3>Ownership Changes</h3>
                        <p>Get alerted when GitHub Actions change ownership or repositories are transferred.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon feature-icon-amber">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                            </svg>
                        </div>
                        <h3>Real-time Monitoring</h3>
                        <p>Continuous scanning of your workflows to detect abandoned or compromised actions.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon feature-icon-green">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                        </div>
                        <h3>Security Scores</h3>
                        <p>See at a glance which actions are verified, popular, and actively maintained.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="how-it-works">
            <div class="container">
                <h2>How It Works</h2>
                <div class="steps-grid">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>Connect GitHub</h3>
                        <p>Sign in with GitHub and grant access to your repositories.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>Automatic Scanning</h3>
                        <p>We scan your workflows and analyze all third-party actions.</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Get Alerts</h3>
                        <p>Receive instant notifications when security issues are detected.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="pricing">
            <div class="container">
                <h2>Pricing</h2>
                <div class="pricing-grid">
                    <div class="pricing-card">
                        <h3>Free</h3>
                        <p class="price">$0<span>/month</span></p>
                        <ul>
                            <li>Up to 5 private repos</li>
                            <li>Daily scans</li>
                            <li>Weekly email alerts</li>
                        </ul>
                    </div>
                    <div class="pricing-card pricing-card-featured">
                        <h3>Pro</h3>
                        <p class="price">$9<span>/month</span></p>
                        <ul>
                            <li>Up to 50 private repos</li>
                            <li>Scans every 6 hours</li>
                            <li>Real-time email alerts</li>
                        </ul>
                    </div>
                    <div class="pricing-card">
                        <h3>Team</h3>
                        <p class="price">$49<span>/month</span></p>
                        <ul>
                            <li>Unlimited private repos</li>
                            <li>Hourly scans</li>
                            <li>Slack integration</li>
                            <li>API access</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; <span id="year"></span> FlowGuard. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Set current year
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // Update OAuth URLs based on current domain
        const currentDomain = window.location.hostname;
        let appDomain = 'app.flowguard.dev'; // default production
        
        if (currentDomain === 'dev.flowguard.dev') {
            appDomain = 'app-dev.flowguard.dev';
        } else if (currentDomain === 'staging.flowguard.dev') {
            appDomain = 'app-staging.flowguard.dev';
        } else if (currentDomain === 'localhost' || currentDomain === '127.0.0.1') {
            appDomain = 'localhost:3000'; // local frontend dev server
        }
        
        // Update all OAuth links
        const protocol = (currentDomain === 'localhost' || currentDomain === '127.0.0.1') ? 'http' : 'https';
        document.querySelectorAll('a[href*="/api/auth/signin/github"]').forEach(link => {
            link.href = `${protocol}://${appDomain}/api/auth/signin/github`;
        });
    </script>
</body>
</html>